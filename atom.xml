<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Sky's Octopress Blog]]></title>
  <link href="http://diufanshu.github.io/atom.xml" rel="self"/>
  <link href="http://diufanshu.github.io/"/>
  <updated>2015-03-11T13:18:54+08:00</updated>
  <id>http://diufanshu.github.io/</id>
  <author>
    <name><![CDATA[Sky Chan]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[善于表达]]></title>
    <link href="http://diufanshu.github.io/blog/2015/02/24/shan-yu-biao-da/"/>
    <updated>2015-02-24T11:49:21+08:00</updated>
    <id>http://diufanshu.github.io/blog/2015/02/24/shan-yu-biao-da</id>
    <content type="html"><![CDATA[<p>这几天在外地拜年，亲戚们走动的主要活动也就是打打牌和四处走走，些许感到百无聊赖，幸亏带了一些可以阅读的东西。阮一峰的网志是这一次阅读的主要内容，感谢网友将其整理成《博客十年》的电子版，让阅读变得十分方便。</p>

<!--more-->


<p>在他与王建硕的来往邮件中， 谈到了写网志的原因，王说是为了促进思考，“因为知道一件事，与你要表达一件事情，是完全不同的。通过写作，你能帮助自己更清楚地理解问题。”</p>

<p>表达作为一种能力，我觉得很重要，尤其对我们工科生来说。其实做研究的相当一部分重要工作就是将其表达出来，要让看的人，也就是你要去说服的人，快速跟上你的思路，了解你所做的研究及其成果，并最终认可。</p>

<p>善于说和善于做，都很重要，而我在说，也就是表达方面要更逊于做，即使是面对喜欢的人，也常常会做没话找话说的蠢事。所以我想通过写网志，来锻炼表达能力。每个人都有写网志的原因，对于我来说，除了上面说的表达能力的锻炼，还有就是将平时的所阅所思，整理并记录，如果对读我网志的人有所帮助，那也很好。</p>

<p>思考，实践，表达，这将是我今年学习生活主要内容，希望能坚持表达，有所长进。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[科学上网]]></title>
    <link href="http://diufanshu.github.io/blog/2015/02/15/ke-xue-shang-wang/"/>
    <updated>2015-02-15T10:51:58+08:00</updated>
    <id>http://diufanshu.github.io/blog/2015/02/15/ke-xue-shang-wang</id>
    <content type="html"><![CDATA[<p>“科学上网是必须技能。”  —— sky chan</p>

<h2>Goagent 的局域网/公网配置</h2>

<p>goagent 的强大不必多说了吧，项目在github托管:<a href="https://github.com/goagent/goagent">goagent</a>，大家可以通过git clone 的方式来获得最新版本，常见问题在其<a href="https://github.com/goagent/goagent/blob/wiki/FAQ.md">FAQ</a>里都有解答，“为什么要叫 goagent，而不叫 GoProxy？”“一开始叫 GoProxy 的，后来 Hewig 说软件名字带有 proxy 字样不祥，于是就改成了 goagent。”<!--more--></p>

<p>goagent 时常会更新版本，更新后要及时看文档，如果说要重新上传appid，那就再上传一次。一般来说，启动的时候，会自动导入证书，但是也不排除例外，如果出现类似于 The requested URL /_gh/ was not found on this server. 的问题，Don’t panic! 在浏览器里重新导入一次local 目录里的 CA.crt证书即可。</p>

<p>基本用法大家想必都会，就讲一讲局域网内共用一个goagent 的实例吧。</p>

<h3>实验环境</h3>

<p>模拟大多数高校实验室以及公司内部上网的环境，有一台服务器，可以直接连Internet，处在同一网段内的其他终端通过http/https 代理的方式来上网，比如说其主机IP为：10.11.12.13，port为8080，这时候要怎么设置才能科学上网捏？</p>

<h3>配置方法</h3>

<ul>
<li><strong>方法1</strong>：在自己的终端配置goagent</li>
</ul>


<p>这个设置比较简单，只要直接修改 proxy.ini 即可，找到[proxy]项，这样填写：</p>

<pre><code>[proxy]
enable = 1
autodetect = 1
host = 10.11.12.13
prot = 8080
username = [如果需要就填]
password = [和上面一样]
</code></pre>

<p>然后就可以了，和平常一样。</p>

<ul>
<li><strong>方法2</strong> :在服务器配置goagent</li>
</ul>


<p>在服务器上运行goagent，然后其他终端只要填写其监听地址即可，可以通过SwitchyProxy/SwitchyOmega/Proxyfoxy 这些代理切换插件来切换监听地址。这个方法的设置也不复杂，只需修改 proxy.ini 即可(不列举每项的所有栏目了)：</p>

<pre><code>[listen]
ip = 0.0.0.0
port = 8087
...

[dns] (如果启用的话)
enable = 1
listen = 0.0.0.0:53
</code></pre>

<p>然后在代理切换插件(以SwitchyOmega为例)里新建情景模式作为科学上网用：</p>

<p><strong>代理服务器</strong>: 10.11.12.13</p>

<p><strong>代理端口</strong>: 8087</p>

<p>至此，就可以快乐的上网了。这里提供的这两种方法，其实都是参考了项目主页里的<a href="https://github.com/goagent/goagent/blob/wiki/ConfigIntroduce.md.ini">Configurations</a>。</p>

<p>那么，还能再给力点吗，我喜欢用pac 方式自动判断需要代理和不需要代理的网站，关键是这种方式能有效过滤广告乃！经过一番实验，终得实现，下面来分享一下过程。</p>

<ul>
<li><strong>隐藏方法</strong> : 基于方法2</li>
</ul>


<p>首先想到的是，在代理切换插件里面新建pac情景模式，然后导入pac文件就行。说干就干，以SwitchyProxy为例，在新建的pac情景模式中，填写PAC 网址：</p>

<pre><code>http://10.11.12.13:8086/proxy.pac
</code></pre>

<p>注意端口是proxy.ini 里[pac]项设定的端口，此处默认设定是8086。这个proxy.pac文件其实位于10.11.12.13服务器goagent目录里的local目录下。随后，规则就导入进来了，测试了一下，科学上网毫无压力，然而，那些本不需要代理的网站都不能上了。排查原因，原来是这个proxy.pac 的规则中，所有不需要代理的网址都归类成&#8217;Direct&#8217;，就是不使用任何代理，所以终端的机器当然不能访问这些网站了。那么，就直接把它替换掉，也就是说，编辑proxy.pac，然后把所有 &lsquo;Direct&#8217;替换成：</p>

<pre><code>'PROXY 10.11.12.13:8080'
</code></pre>

<p>也就是用来普通代理上网的代理地址。在SwitchyProxy 中成功看见了规则的在线更新，然后就愉快的上网去咯！</p>

<p>然而，故事还没结束，在第二天，国内的网站又不能上了。怎么回事，PAC 规则怎么又变成原来的样子了！原来这个proxy.pac 文件是自动生成的，由于规则是直接从其他地方获取，然后每天重新生成一次，可以从proxy.ini 中的[pac]项看出：</p>

<pre><code>[pac]
enable = 1
ip = 0.0.0.0
port = 8086
file = proxy.pac
admode = 1
adblock = https://easlist-downloads.adblockplus.org/easylistchina.txt
gfwlist = https://autoproxy-gfwlist.google.com/svn/trunk/gfwlist.txt
expired = 86400
</code></pre>

<p>里面基本都说明了，所以说，要不就不让它更新，也就是注释掉expired 项目，要不就要修改proxy.pac 的生成代码了。自动更新这么好的东西怎么能把它关掉，当然是修改代码咯。</p>

<p>于是乎，在proxy.py 的881 行，找到了需要修改的位置，源码如下：</p>

<pre><code>default = 'PROXY %s:%s' % (common.PROXY_HOST,common.PROXY_PORT) if common.PROXY_ENABLE else 'DIRECT'
</code></pre>

<p>修改为：</p>

<pre><code>default = 'PROXY %s:%s' % (common.PROXY_HOST,common.PROXY_PORT) if common.PROXY_ENABLE or common.PAC_IP != '0.0.0.0' else 'DIRECT'
</code></pre>

<p>这么修改后，需要将proxy.ini 中的[pac]项的ip 和[proxy]项进行修改</p>

<pre><code>[pac]
enable = 1
ip = 10.11.12.13
...

[proxy]
enable = 0
autodetect = 1
host = 10.11.12.13
prot = 8080
...
</code></pre>

<p>注意，是关闭proxy，但指定了监听地址，也就是说，通过判断pac的监听ip来确定是否是在用局域网代理上网。当然了，生效的话需要等到下一次更新proxy.pac，等不及了，就把[pac]项的expired 修改为1，然后重启goagent，虽然不是立竿见影，但一会儿后，实验用的终端机器可以真正使用pac 方式科学上网了，查看pac文件，确实按照我想要的方式变化了。当然，最后还是要把失效时间改回来，毕竟每秒都更新也太喜新厌旧了吧！</p>

<h3>相关福利</h3>

<p>在google code issue 里面看到有位热心的同学贡献了一堆appid，这是福利，你懂的！！</p>

<pre><code>zimofanqiang|zimofanqiang1|zimofanqiang10|zimofanqiang11|zimofanqiang12|zimofanqiang13|zimofanqiang14|zimofanqiang15|zimofanqiang16|zimofanqiang17|zimofanqiang18|zimofanqiang19|zimofanqiang2|zimofanqiang20|zimofanqiang21|zimofanqiang22|zimofanqiang23|zimofanqiang24|zimofanqiang3| zimofanqiang4|zimofanqiang5|zimofanqiang6|zimofanqiang7|zimofanqiang8|zimofanqiang9|zhangnraka|zhangnraka1|zhangnraka10| ​
</code></pre>

<h2>ShadowSocks</h2>

<p>需要有vps主机，可以找到很多免费的，用法比较简单。</p>

<h2>fqrouter</h2>

<p>Android 端利器，可以分享给同网段任意手机甚至是PC！</p>

<h2>保持更新</h2>

<p>前段段时间期末，一大堆作业，那次写的匆匆忙忙，这次稍作修改，持续保持更新！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lost Stars 吉他谱]]></title>
    <link href="http://diufanshu.github.io/blog/2015/01/05/lost-stars-ji-ta-pu/"/>
    <updated>2015-01-05T19:35:33+08:00</updated>
    <id>http://diufanshu.github.io/blog/2015/01/05/lost-stars-ji-ta-pu</id>
    <content type="html"><![CDATA[<h2>Lost Stars</h2>

<p>Adam Levine &ndash; <em>Begin Again</em></p>

<!--more-->


<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>Please don&rsquo;t see just a bo</td>
<td> y caught up in dreams and fantasies.</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>Please see me </td>
<td>reaching out for someone I can see. Take my </td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>hand let&rsquo;s see where we wake up to</td>
<td>morrow. Best laid </td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>plans sometimes it&rsquo;s just a one night</td>
<td>stand. I&rsquo;d be </td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>damned Cupid&rsquo;s demanding back his </td>
<td>arrow. So let&rsquo;s get</td>
</tr>
<tr>
<td><strong>G</strong></td>
<td><strong>G7</strong></td>
</tr>
<tr>
<td> drunk on </td>
<td>our tears and</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>God, tell us the </td>
<td>reason youth is wasted on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>young? It&rsquo;s hunting</td>
<td> season and the lambs are on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Em</strong></td>
</tr>
<tr>
<td>run, Searching for </td>
<td>meaning. But are we</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td><strong>D</strong></td>
</tr>
<tr>
<td>all lost </td>
<td>stars, trying to </td>
</tr>
<tr>
<td><strong>Dm</strong></td>
<td><strong>Gsus4/G</strong></td>
</tr>
<tr>
<td>light up the </td>
<td>dark?</td>
</tr>
<tr>
<td>================================</td>
<td>==================================</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>Who are we? Just a </td>
<td>spec of dust within the galaxy.</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>Woe is me </td>
<td>if we&rsquo;re not careful turns into reality. Don&rsquo;t you</td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>dare let all these memories bring you </td>
<td>sorrow? Yester</td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>-day I saw a lion kiss a </td>
<td>deer. Turn the page </td>
</tr>
<tr>
<td><strong>Em</strong></td>
<td><strong>Famj7</strong></td>
</tr>
<tr>
<td>maybe we&rsquo;ll find a brand new </td>
<td>ending. Where we&rsquo;re </td>
</tr>
<tr>
<td><strong>G</strong></td>
<td><strong>G7</strong></td>
</tr>
<tr>
<td>dancing in </td>
<td>our tears and</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>God, tell us the </td>
<td>reason youth is wasted on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>young? It&rsquo;s hunting</td>
<td> season and the lambs are on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Em</strong></td>
</tr>
<tr>
<td>run, Searching for </td>
<td>meaning. But are we</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td><strong>D</strong></td>
</tr>
<tr>
<td>all lost </td>
<td>stars, trying to </td>
</tr>
<tr>
<td><strong>Dm</strong></td>
<td><strong>Gsus4/G</strong></td>
</tr>
<tr>
<td>light up the </td>
<td>dark?</td>
</tr>
<tr>
<td>================================</td>
<td>==================================</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I saw you out there </td>
<td>crying.</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I heard you call my </td>
<td>name.</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I saw you out there </td>
<td>crying. Just the</td>
</tr>
<tr>
<td><strong>G</strong></td>
<td><strong>G7</strong></td>
</tr>
<tr>
<td>same</td>
<td> </td>
</tr>
<tr>
<td>================================</td>
<td>==================================</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>God, tell us the </td>
<td>reason youth is wasted on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>young? It&rsquo;s hunting</td>
<td> season and the lambs are on the</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>Em</strong></td>
</tr>
<tr>
<td>run, Searching for </td>
<td>meaning. But are we</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td><strong>D</strong></td>
</tr>
<tr>
<td>all lost </td>
<td>stars, trying to </td>
</tr>
<tr>
<td><strong>Dm</strong></td>
<td><strong>Gsus4/G</strong></td>
</tr>
<tr>
<td>light up the </td>
<td>dark?</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I saw you out there </td>
<td>crying.</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I heard you call my </td>
<td>name. But are we</td>
</tr>
<tr>
<td><strong>Famj7</strong></td>
<td><strong>C</strong></td>
</tr>
<tr>
<td>I thought I saw you out there </td>
<td>crying.  But are we</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td><strong>D</strong></td>
</tr>
<tr>
<td>all lost </td>
<td>stars, trying to </td>
</tr>
<tr>
<td><strong>Dm</strong></td>
<td><strong>Gsus4/G</strong></td>
</tr>
<tr>
<td>light up the </td>
<td>dark?  But are we</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td><strong>D</strong></td>
</tr>
<tr>
<td>all lost </td>
<td>stars, trying to </td>
</tr>
<tr>
<td><strong>Dm</strong></td>
<td><strong>Gsus4/G</strong></td>
</tr>
<tr>
<td>light up the </td>
<td>dark?</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td></td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[有关博客的加载速度]]></title>
    <link href="http://diufanshu.github.io/blog/2015/01/03/you-guan-bo-ke-dao-jia-zai-su-du/"/>
    <updated>2015-01-03T21:34:00+08:00</updated>
    <id>http://diufanshu.github.io/blog/2015/01/03/you-guan-bo-ke-dao-jia-zai-su-du</id>
    <content type="html"><![CDATA[<h2>起因</h2>

<p>有童鞋反应说加载速度很慢，这是一个关于举着保护旗号却在做愚蠢的事的悲伤的故事。</p>

<!--more-->


<h2>GFW</h2>

<p>GFW 是一切的原因，因为octopress需要加载google的字体库，本来是件多好到事情，怎耐GFW插足，你说有GFW在能不慢吗？网上找到了解决方法，发现360竟然把这字体库搬到墙里来了，这是360唯一一次让我还觉得做了件靠谱的事了。</p>

<p>那么怎么解决问题内？除了修改_config.yml，将墙外到花花世界注释掉之外，主要从两head.html进行配置调整。</p>

<h2>开始调整</h2>

<h3>1. /source/_include/custom/head.html</h3>

<p>网上大多的方法是去掉这个文件里的google字体设置，但这个配置就两行google的字体库，删除之后还有存在到意义吗？这时候看到说，360把这个字体库搬进来了，真实干了件靠谱到事了。如是修改：</p>

<pre><code>//fonts.googleapis.com/
</code></pre>

<p>修改为</p>

<pre><code>//fonts.useso.com/
</code></pre>

<p>即可。
好激动，立马rake preview，咋回事，没效果，底部怎么在加载 &lsquo;ajax.googleapis.com&#8217;，又是哪个api在加载？经过一番排查，终于找到。</p>

<h3>2. /source/_include/head.html</h3>

<p>这个配置里面搜索一下，找到&#8217;googleapis&#8217;关键字，然后忍痛把这行脚本注释了。重新preview, 终于是加载快了，但是，总觉得这样不好。</p>

<h2>我的想法</h2>

<p>google 的许多api是多么好到福利，减轻了多少开发者的工作量，然而这么好到工具只因社会意识形态和政治原因而粗暴地屏蔽，历史上也有闭关锁国的愚蠢行为，希望以史为鉴乃。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[添加多说评论模块]]></title>
    <link href="http://diufanshu.github.io/blog/2014/12/31/tian-jia-duo-shuo-ping-lun-mo-kuai/"/>
    <updated>2014-12-31T22:53:46+08:00</updated>
    <id>http://diufanshu.github.io/blog/2014/12/31/tian-jia-duo-shuo-ping-lun-mo-kuai</id>
    <content type="html"><![CDATA[<!--more-->

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[测试中文]]></title>
    <link href="http://diufanshu.github.io/blog/2014/12/31/ce-shi-zhong-wen/"/>
    <updated>2014-12-31T21:51:56+08:00</updated>
    <id>http://diufanshu.github.io/blog/2014/12/31/ce-shi-zhong-wen</id>
    <content type="html"><![CDATA[<!--more-->

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Happy New Year]]></title>
    <link href="http://diufanshu.github.io/blog/2014/12/31/happy-new-year/"/>
    <updated>2014-12-31T21:11:13+08:00</updated>
    <id>http://diufanshu.github.io/blog/2014/12/31/happy-new-year</id>
    <content type="html"><![CDATA[<p>This is sky&rsquo;s first blog with octopress, have fun ^-^</p>

<!--more-->

]]></content>
  </entry>
  
</feed>
